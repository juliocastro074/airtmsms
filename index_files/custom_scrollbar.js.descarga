if(typeof(SK)=='undefined')SK={};if(typeof(SK.UI)=='undefined')SK.UI={};SK.UI.CustomScrollbar=new Class({Extends:SK.UI.Scrollbar,setStyles:function(){},applyScrollChange:function(direction,distance,value){var axis={'ver':'margin-top','hor':'margin-left'};if(distance){var offset=this.el.container.getStyle(axis[direction]).toInt();var method=direction=='ver'?'getHeight':'getWidth';var min_offset=this.el.wrapper[method]()-this.el.container[method]();var new_offset=offset+distance;new_offset=new_offset>=min_offset?new_offset:min_offset;new_offset=new_offset>=0?0:new_offset;this.el.container.setStyle(axis[direction],new_offset);this.el.container.fireEvent('scroll');}else{this.el.container.setStyle(axis[direction],-value);}
return this.el.container.getStyle(axis[direction]).toInt();},updateVerScrollerDimentions:function(){this.properties.width=this.el.wrapper.getWidth();this.properties.height=this.el.wrapper.getHeight();this.parent.apply(this,arguments);},updateVerScrollerPosition:function(){var scroller=this.getScroller('ver');var track_height=this.properties.height-scroller.getHeight();var distance=Math.abs(this.el.container.getStyle('margin-top').toInt());var ratio=(this.el.container.scrollHeight-this.properties.height)/track_height;var position=distance/ratio;scroller.setStyle('top',position||0);},getScrollProperty:function(direction){return({'hor':'margin-left','ver':'margin-top'})[direction||'ver'];},getScroll:function(direction){return this.el.container.getStyle(this.getScrollProperty(direction)).toInt();}});